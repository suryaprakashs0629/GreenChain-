<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GREEN CHAIN</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>

    <style>
        :root {
            --primary-green: #4CAF50;
            --accent-yellow: #FFC107;
            --background-light: #F7F9FA;
            --card-bg: #FFFFFF;
            --text-dark: #37474F;
            --text-medium: #78909C;
            --border-color: #ECEFF1;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-light); color: var(--text-medium); line-height: 1.7; }

        #emoji-background { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; overflow: hidden; z-index: -1; }
        .emoji { position: absolute; bottom: -50px; font-size: 2rem; opacity: 0; animation: floatUp 25s linear infinite; }
        @keyframes floatUp { 0% { transform: translateY(0); } 10%, 90% { opacity: 0.1; } 100% { transform: translateY(-110vh); opacity: 0; } }

        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 40px; background-color: var(--card-bg); border-bottom: 1px solid var(--border-color); position: sticky; top: 0; z-index: 1000; }
        .navbar .logo { font-size: 1.8rem; font-weight: 700; color: var(--primary-green); text-decoration: none; }
        .nav-right { display: flex; align-items: center; gap: 20px; }
        .navbar .nav-links a { color: var(--text-medium); text-decoration: none; margin: 0 15px; font-weight: 500; transition: color 0.3s; }
        .navbar .nav-links a:hover { color: var(--primary-green); }

        #language-selector { padding: 5px 8px; border-radius: 6px; border: 1px solid var(--border-color); background-color: #fff; font-family: 'Poppins', sans-serif; font-size: 0.9rem; }
        
        .page { padding: 50px 40px; max-width: 1100px; margin: 0 auto; }
        h1, h2, h3, label { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
        
        .tts-button { background-color: #f0f0f0; border: none; padding: 0; margin: 0; width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; font-size: 1rem; line-height: 1; cursor: pointer; opacity: 0.7; transition: all 0.3s; }
        .tts-button:hover { opacity: 1; background-color: var(--primary-green); color: white; transform: scale(1.1); }
        
        #home-page .hero { text-align: center; padding: 100px 30px; }
        .hero h1 { font-size: 3.8rem; color: var(--text-dark); line-height: 1.2; font-weight: 700; justify-content: center; }
        .hero p { font-size: 1.25rem; color: var(--text-medium); margin: 25px 0 40px 0; max-width: 600px; margin-left: auto; margin-right: auto;}
        
        .features-section { text-align: center; padding: 80px 20px; background-color: #fff; border-radius: 20px; }
        .features-section h2 { border: none; font-size: 2.5rem; margin-bottom: 50px; }
        .features-container { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; }
        .feature-card { background: var(--background-light); padding: 35px; border-radius: 16px; width: 300px; transition: transform 0.3s ease, box-shadow 0.3s ease; border-top: 4px solid var(--accent-yellow); box-shadow: 0 8px 25px var(--shadow-color); }
        .feature-card:hover { transform: translateY(-10px); box-shadow: 0 16px 35px var(--shadow-color); }
        .feature-card .icon { font-size: 3.5rem; color: var(--primary-green); }
        .feature-card h3 { font-size: 1.5rem; color: var(--text-dark); margin: 20px 0 10px 0; justify-content: center; }
        
        button { cursor: pointer; border-radius: 12px; border: none; padding: 14px 28px; font-size: 1rem; font-weight: 500; font-family: 'Poppins', sans-serif; transition: all 0.3s ease; }
        button.cta { background: var(--accent-yellow); color: var(--text-dark); box-shadow: 0 4px 15px rgba(255, 193, 7, 0.4); }
        button.cta:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(255, 193, 7, 0.5); }
        
        .page-container { display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .selection-box { background: var(--card-bg); padding: 40px; border-radius: 24px; box-shadow: 0 10px 30px var(--shadow-color); border: 1px solid var(--border-color); width: 100%; max-width: 480px; text-align: center; }
        .role-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        #main-app header { background: linear-gradient(90deg, var(--primary-green), #81C784); color: white; padding: 20px 40px; text-align: center; }
        section.card { background: var(--card-bg); border: 1px solid var(--border-color); padding: 30px; border-radius: 16px; margin-bottom: 30px; box-shadow: 0 8px 25px var(--shadow-color); border-top: 4px solid var(--primary-green); }
        .card h2 { color: var(--text-dark); margin-bottom: 20px; font-size: 1.6rem; gap: 15px; }
        
        label { color: var(--text-dark); }
        input, textarea, select { width: 100%; padding: 14px; border-radius: 10px; border: 1px solid var(--border-color); margin-top: 8px; font-size: 1rem; font-family: 'Poppins', sans-serif; background-color: #fff; }
        input:focus, textarea:focus, select:focus { border-color: var(--primary-green); outline: none; box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2); }
        
        .record-details { border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; margin-top: 20px; background-color: var(--background-color); }
        .qr-wrap { border-radius: 16px; background: #fff; padding: 10px; box-shadow: 0 4px 15px var(--shadow-color); }
    </style>
</head>
<body>
    
    <div id="emoji-background"></div>
    <div id="website-section"></div>
    <div id="role-selection-page" class="page-container" style="display: none;"></div>
    <div id="login-page" class="page-container" style="display: none;"></div>
    <div id="main-app" style="display: none;"></div>
    
    <script>
        // --- TRANSLATION DATA ---
        const translations = {
            'en-US': { home: 'Home', about: 'About', contact: 'Contact', get_started: 'Get Started', home_hero_title: 'Transparent Food, Trusted Journey.', home_hero_subtitle: 'Bringing clarity to the supply chain. Track your food from the farm to your table.', start_tracking_now: 'Start Tracking Now', why_green_chain: 'Why Green Chain?', feature1_title: 'Traceability', feature1_desc: "Follow your food's complete journey, recorded and verifiable at every step.", feature2_title: 'Transparency', feature2_desc: 'Access an immutable digital ledger that ensures total honesty and prevents fraud.', feature3_title: 'Trust', feature3_desc: 'Empower customers to instantly verify the authenticity of their products.', about_title: 'About Green Chain', our_mission: 'Our Mission', mission_p: 'Our mission is to bring unparalleled transparency to the food supply chain...', the_technology: 'The Technology', technology_p: 'Green Chain is built on the concept of a blockchain...', benefits_for_everyone: 'Benefits for Everyone', benefits_farmer: '<strong>For Farmers:</strong> Gain fair recognition for your products.', benefits_business: '<strong>For Businesses:</strong> Enhance your brand\'s reputation with proven transparency.', benefits_consumer: '<strong>For Consumers:</strong> Make informed decisions with confidence.', contact_title: 'Contact Us', contact_reach_out: 'You can reach out via the following methods:', phone: 'Phone', email: 'Email', or_send_message: 'Or Send a Message', name: 'Name', message: 'Message', send_message: 'Send Message', select_your_role: 'Select Your Role', farmer_role: 'üßë‚Äçüåæ Farmer', stakeholder_role: 'üöö Stakeholder', shopkeeper_role: 'üè™ Shopkeeper', customer_role: 'üõí Customer', sign_in: 'Sign In', login: 'Login', logout: 'üö™ Logout', farmer_dashboard_title: 'Farmer ‚Äî Submit Crop Details', farmer_name: 'Farmer Name', crop_name: 'Crop Name', variety: 'Variety', quantity_kg: 'Quantity (kg)', harvest_date: 'Harvest Date', submit_and_generate_qr: 'üåø Submit & Generate QR', record_created_successfully: 'Record Created!', record_id: 'Record ID', download_qr: 'üì• Download QR', stakeholder_dashboard_title: 'Stakeholder ‚Äî Add Margin', enter_record_id: 'Enter Record ID', fetch_record: 'üîç Fetch Record', fetched_record_details: 'Fetched Record Details:', margin_to_add: 'Margin to add (‚Çπ per kg)', add_margin_to_chain: 'üîó Add to Chain', shopkeeper_dashboard_title: 'Shopkeeper ‚Äî Log Purchase', purchase_price: 'Purchase price (‚Çπ/kg)', quantity_purchased_kg: 'Quantity purchased (kg)', add_purchase_to_chain: 'üîó Add to Chain', customer_dashboard_title: 'Customer ‚Äî View Journey', view_record: 'üîç View Record', initial_record_details: 'Initial Details:', complete_journey: 'Journey Timeline:' },
            'hi-IN': { home: '‡§π‡•ã‡§Æ', about: '‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç', contact: '‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï', get_started: '‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç', home_hero_title: '‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡•Ä ‡§≠‡•ã‡§ú‡§®, ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ‡•§', home_hero_subtitle: '‡§Ü‡§™‡•Ç‡§∞‡•ç‡§§‡§ø ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡§§‡§æ ‡§≤‡§æ‡§®‡§æ‡•§ ‡§ñ‡•á‡§§ ‡§∏‡•á ‡§Ö‡§™‡§®‡•Ä ‡§Æ‡•á‡§ú ‡§§‡§ï ‡§Ö‡§™‡§®‡•á ‡§≠‡•ã‡§ú‡§® ‡§ï‡•ã ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§', start_tracking_now: '‡§Ö‡§¨ ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç', why_green_chain: '‡§ó‡•ç‡§∞‡•Ä‡§® ‡§ö‡•á‡§® ‡§ï‡•ç‡§Ø‡•ã‡§Ç?', feature1_title: '‡§ü‡•ç‡§∞‡•à‡§∏‡•á‡§¨‡§ø‡§≤‡§ø‡§ü‡•Ä', feature1_desc: '‡§Ö‡§™‡§®‡•á ‡§≠‡•ã‡§ú‡§® ‡§ï‡•Ä ‡§™‡•Ç‡§∞‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡•á‡§Ç, ‡§π‡§∞ ‡§ï‡§¶‡§Æ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§î‡§∞ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§π‡•à‡•§', feature2_title: '‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ', feature2_desc: '‡§è‡§ï ‡§Ö‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•Ä‡§Ø ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§≤‡•á‡§ú‡§∞ ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö‡•á‡§Ç ‡§ú‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§à‡§Æ‡§æ‡§®‡§¶‡§æ‡§∞‡•Ä ‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§', feature3_title: '‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏', feature3_desc: '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§Æ‡§æ‡§£‡§ø‡§ï‡§§‡§æ ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§', about_title: '‡§ó‡•ç‡§∞‡•Ä‡§® ‡§ö‡•á‡§® ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç', our_mission: '‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§®', mission_p: '‡§π‡§Æ‡§æ‡§∞‡§æ ‡§Æ‡§ø‡§∂‡§® ‡§ñ‡§æ‡§¶‡•ç‡§Ø ‡§Ü‡§™‡•Ç‡§∞‡•ç‡§§‡§ø ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ ‡§Æ‡•á‡§Ç ‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§≤‡§æ‡§®‡§æ ‡§π‡•à‡•§', the_technology: '‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä', technology_p: '‡§ó‡•ç‡§∞‡•Ä‡§® ‡§ö‡•á‡§® ‡§¨‡•ç‡§≤‡•â‡§ï‡§ö‡•á‡§® ‡§ï‡•Ä ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ ‡§™‡§∞ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§', benefits_for_everyone: '‡§∏‡§≠‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§æ‡§≠', benefits_farmer: '<strong>‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è:</strong> ‡§Ö‡§™‡§®‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§ö‡§ø‡§§ ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§', benefits_business: '<strong>‡§µ‡•ç‡§Ø‡§µ‡§∏‡§æ‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è:</strong> ‡§∏‡§ø‡§¶‡•ç‡§ß ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§™‡§®‡•á ‡§¨‡•ç‡§∞‡§æ‡§Ç‡§° ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§§‡§ø‡§∑‡•ç‡§†‡§æ ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç‡•§', benefits_consumer: '<strong>‡§â‡§™‡§≠‡•ã‡§ï‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è:</strong> ‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§Ç‡•§', contact_title: '‡§π‡§Æ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç', contact_reach_out: '‡§Ü‡§™ ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§§‡§∞‡•Ä‡§ï‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç:', phone: '‡§´‡§º‡•ã‡§®', email: '‡§à‡§Æ‡•á‡§≤', or_send_message: '‡§Ø‡§æ ‡§è‡§ï ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≠‡•á‡§ú‡•á‡§Ç', name: '‡§®‡§æ‡§Æ', message: '‡§∏‡§Ç‡§¶‡•á‡§∂', send_message: '‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≠‡•á‡§ú‡•á‡§Ç', select_your_role: '‡§Ö‡§™‡§®‡•Ä ‡§≠‡•Ç‡§Æ‡§ø‡§ï‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç', farmer_role: 'üßë‚Äçüåæ ‡§ï‡§ø‡§∏‡§æ‡§®', stakeholder_role: 'üöö ‡§π‡§ø‡§§‡§ß‡§æ‡§∞‡§ï', shopkeeper_role: 'üè™ ‡§¶‡•Å‡§ï‡§æ‡§®‡§¶‡§æ‡§∞', customer_role: 'üõí ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï', sign_in: '‡§∏‡§æ‡§á‡§® ‡§á‡§® ‡§ï‡§∞‡•á‡§Ç', login: '‡§≤‡•â‡§ó ‡§á‡§® ‡§ï‡§∞‡•á‡§Ç', logout: 'üö™ ‡§≤‡•â‡§ó ‡§Ü‡§â‡§ü', farmer_dashboard_title: '‡§ï‡§ø‡§∏‡§æ‡§® ‚Äî ‡§´‡§∏‡§≤ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç', farmer_name: '‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§æ ‡§®‡§æ‡§Æ', crop_name: '‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ', variety: '‡§ï‡§ø‡§∏‡•ç‡§Æ', quantity_kg: '‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ (‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ)', harvest_date: '‡§ï‡§ü‡§æ‡§à ‡§ï‡•Ä ‡§§‡§æ‡§∞‡•Ä‡§ñ', submit_and_generate_qr: 'üåø ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ QR ‡§â‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§∞‡•á‡§Ç', record_created_successfully: '‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ!', record_id: '‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§Ü‡§à‡§°‡•Ä', download_qr: 'üì• ‡§ï‡•ç‡§Ø‡•Ç‡§Ü‡§∞ ‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç', stakeholder_dashboard_title: '‡§π‡§ø‡§§‡§ß‡§æ‡§∞‡§ï ‚Äî ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', enter_record_id: '‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§Ü‡§à‡§°‡•Ä ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç', fetch_record: 'üîç ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç', fetched_record_details: '‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§µ‡§ø‡§µ‡§∞‡§£:', margin_to_add: '‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§∞‡•ç‡§ú‡§ø‡§® (‚Çπ ‡§™‡•ç‡§∞‡§§‡§ø ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ)', add_margin_to_chain: 'üîó ‡§ö‡•á‡§® ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', shopkeeper_dashboard_title: '‡§¶‡•Å‡§ï‡§æ‡§®‡§¶‡§æ‡§∞ ‚Äî ‡§ñ‡§∞‡•Ä‡§¶ ‡§≤‡•â‡§ó ‡§ï‡§∞‡•á‡§Ç', purchase_price: '‡§ñ‡§∞‡•Ä‡§¶ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø (‚Çπ/‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ)', quantity_purchased_kg: '‡§ñ‡§∞‡•Ä‡§¶‡•Ä ‡§ó‡§à ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ (‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ)', add_purchase_to_chain: 'üîó ‡§ö‡•á‡§® ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡•á‡§Ç', customer_dashboard_title: '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‚Äî ‡§™‡•Ç‡§∞‡•Ä ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§¶‡•á‡§ñ‡•á‡§Ç', view_record: 'üîç ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç', initial_record_details: '‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§µ‡§ø‡§µ‡§∞‡§£:', complete_journey: '‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡•Ä ‡§∏‡§Æ‡§Ø‡§∞‡•á‡§ñ‡§æ:' },
            'kn-IN': { home: '‡≤Æ‡≥Å‡≤ñ‡≤™‡≥Å‡≤ü', about: '‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü', contact: '‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø', get_started: '‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø', home_hero_title: '‡≤™‡≤æ‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï ‡≤Ü‡≤π‡≤æ‡≤∞, ‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤æ‡≤∏‡≤æ‡≤∞‡≥ç‡≤π ‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£.', home_hero_subtitle: '‡≤∏‡≤∞‡≤¨‡≤∞‡≤æ‡≤ú‡≥Å ‡≤∏‡≤∞‡≤™‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤∏‡≥ç‡≤™‡≤∑‡≥ç‡≤ü‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤∞‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Ü‡≤π‡≤æ‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ú‡≤Æ‡≥Ä‡≤®‡≤ø‡≤®‡≤ø‡≤Ç‡≤¶ ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Æ‡≥á‡≤ú‡≤ø‡≤®‡≤µ‡≤∞‡≥Ü‡≤ó‡≥Ü ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø.', start_tracking_now: '‡≤à‡≤ó ‡≤ü‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤ï‡≤ø‡≤Ç‡≤ó‡≥ç ‡≤™‡≥ç‡≤∞‡≤æ‡≤∞‡≤Ç‡≤≠‡≤ø‡≤∏‡≤ø', why_green_chain: '‡≤è‡≤ï‡≥Ü ‡≤ó‡≥ç‡≤∞‡≥Ä‡≤®‡≥ç ‡≤ö‡≥à‡≤®‡≥ç?', feature1_title: '‡≤™‡≤§‡≥ç‡≤§‡≥Ü‡≤π‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤ø‡≤ï‡≥Ü', feature1_desc: '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Ü‡≤π‡≤æ‡≤∞‡≤¶ ‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥Å‡≤∏‡≤∞‡≤ø‡≤∏‡≤ø, ‡≤™‡≥ç‡≤∞‡≤§‡≤ø‡≤Ø‡≥ä‡≤Ç‡≤¶‡≥Å ‡≤π‡≤Ç‡≤§‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤¶‡≤æ‡≤ñ‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.', feature2_title: '‡≤™‡≤æ‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï‡≤§‡≥Ü', feature2_desc: '‡≤∏‡≤Ç‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤™‡≥ç‡≤∞‡≤æ‡≤Æ‡≤æ‡≤£‡≤ø‡≤ï‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ñ‡≤ö‡≤ø‡≤§‡≤™‡≤°‡≤ø‡≤∏‡≥Å‡≤µ ‡≤¨‡≤¶‡≤≤‡≤æ‡≤Ø‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤¶ ‡≤°‡≤ø‡≤ú‡≤ø‡≤ü‡≤≤‡≥ç ‡≤≤‡≥Ü‡≤°‡≥ç‡≤ú‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂‡≤ø‡≤∏‡≤ø.', feature3_title: '‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤æ‡≤∏', feature3_desc: '‡≤ó‡≥ç‡≤∞‡≤æ‡≤π‡≤ï‡≤∞‡≤ø‡≤ó‡≥Ü ‡≤§‡≤Æ‡≥ç‡≤Æ ‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤®‡≤ó‡≤≥ ‡≤¶‡≥É‡≤¢‡≥Ä‡≤ï‡≤∞‡≤£‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤ï‡≥ç‡≤∑‡≤£‡≤µ‡≥á ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≥Å‡≤µ ‡≤∏‡≤æ‡≤Æ‡≤∞‡≥ç‡≤•‡≥ç‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≥Ä‡≤°‡≤ø.', about_title: '‡≤ó‡≥ç‡≤∞‡≥Ä‡≤®‡≥ç ‡≤ö‡≥à‡≤®‡≥ç ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü', our_mission: '‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤ó‡≥Å‡≤∞‡≤ø', mission_p: '‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤ó‡≥Å‡≤∞‡≤ø ‡≤Ü‡≤π‡≤æ‡≤∞ ‡≤∏‡≤∞‡≤¨‡≤∞‡≤æ‡≤ú‡≥Å ‡≤∏‡≤∞‡≤™‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤π‡≥ã‡≤≤‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤¶ ‡≤™‡≤æ‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤∞‡≥Å‡≤µ‡≥Å‡≤¶‡≥Å.', the_technology: '‡≤§‡≤Ç‡≤§‡≥ç‡≤∞‡≤ú‡≥ç‡≤û‡≤æ‡≤®', technology_p: '‡≤ó‡≥ç‡≤∞‡≥Ä‡≤®‡≥ç ‡≤ö‡≥à‡≤®‡≥ç ‡≤¨‡≥ç‡≤≤‡≤æ‡≤ï‡≥ç‚Äå‡≤ö‡≥à‡≤®‡≥ç ‡≤™‡≤∞‡≤ø‡≤ï‡≤≤‡≥ç‡≤™‡≤®‡≥Ü‡≤Ø ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤Æ‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü.', benefits_for_everyone: '‡≤é‡≤≤‡≥ç‡≤≤‡≤∞‡≤ø‡≤ó‡≥Ç ‡≤™‡≥ç‡≤∞‡≤Ø‡≥ã‡≤ú‡≤®‡≤ó‡≤≥‡≥Å', benefits_farmer: '<strong>‡≤∞‡≥à‡≤§‡≤∞‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø:</strong> ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤®‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤®‡≥ç‡≤Ø‡≤æ‡≤Ø‡≤Ø‡≥Å‡≤§ ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø‡≤§‡≥Ü ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø.', benefits_business: '<strong>‡≤µ‡≥ç‡≤Ø‡≤æ‡≤™‡≤æ‡≤∞‡≤ï‡≥ç‡≤ï‡≤æ‡≤ó‡≤ø:</strong> ‡≤∏‡≤æ‡≤¨‡≥Ä‡≤§‡≤æ‡≤¶ ‡≤™‡≤æ‡≤∞‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï‡≤§‡≥Ü‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≥ç‡≤∞‡≥ç‡≤Ø‡≤æ‡≤Ç‡≤°‡≥ç‚Äå‡≤® ‡≤ñ‡≥ç‡≤Ø‡≤æ‡≤§‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≤ø‡≤∏‡≤ø.', benefits_consumer: '<strong>‡≤ó‡≥ç‡≤∞‡≤æ‡≤π‡≤ï‡≤∞‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø:</strong> ‡≤Ü‡≤§‡≥ç‡≤Æ‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤æ‡≤∏‡≤¶‡≤ø‡≤Ç‡≤¶ ‡≤§‡≤ø‡≤≥‡≥Å‡≤µ‡≤≥‡≤ø‡≤ï‡≥Ü‡≤Ø‡≥Å‡≤≥‡≥ç‡≤≥ ‡≤®‡≤ø‡≤∞‡≥ç‡≤ß‡≤æ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø.', contact_title: '‡≤®‡≤Æ‡≥ç‡≤Æ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø', contact_reach_out: '‡≤®‡≥Ä‡≤µ‡≥Å ‡≤à ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤µ‡≤ø‡≤ß‡≤æ‡≤®‡≤ó‡≤≥ ‡≤Æ‡≥Ç‡≤≤‡≤ï ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤¨‡≤π‡≥Å‡≤¶‡≥Å:', phone: '‡≤´‡≥ã‡≤®‡≥ç', email: '‡≤á‡≤Æ‡≥á‡≤≤‡≥ç', or_send_message: '‡≤Ö‡≤•‡≤µ‡≤æ ‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂ ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø', name: '‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å', message: '‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂', send_message: '‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂ ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø', select_your_role: '‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤™‡≤æ‡≤§‡≥ç‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø', farmer_role: 'üßë‚Äçüåæ ‡≤∞‡≥Ü‡≥ñ‡≤§', stakeholder_role: 'üöö ‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤µ‡≤∞‡≥ç‡≤§‡≤ø', shopkeeper_role: 'üè™ ‡≤Ö‡≤Ç‡≤ó‡≤°‡≤ø‡≤Ø‡≤µ', customer_role: 'üõí ‡≤ó‡≥ç‡≤∞‡≤æ‡≤π‡≤ï', sign_in: '‡≤∏‡≥à‡≤®‡≥ç ‡≤á‡≤®‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø', login: '‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç', logout: 'üö™ ‡≤≤‡≤æ‡≤ó‡≥å‡≤ü‡≥ç', farmer_dashboard_title: '‡≤∞‡≥à‡≤§‡≤∞‡≥Å ‚Äî ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø', farmer_name: '‡≤∞‡≥à‡≤§‡≤∞ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å', crop_name: '‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤Ø ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å', variety: '‡≤§‡≤≥‡≤ø', quantity_kg: '‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£ (‡≤ï‡≥Ü‡≤ú‡≤ø)', harvest_date: '‡≤ï‡≥ä‡≤Ø‡≥ç‡≤≤‡≥Å ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï', submit_and_generate_qr: 'üåø ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å QR ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø', record_created_successfully: '‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤∏‡≥É‡≤∑‡≥ç‡≤ü‡≤ø‡≤Ø‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü!', record_id: '‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤ê‡≤°‡≤ø', download_qr: 'üì• QR ‡≤°‡≥å‡≤®‡≥ç‚Äå‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø', stakeholder_dashboard_title: '‡≤Æ‡≤ß‡≥ç‡≤Ø‡≤µ‡≤∞‡≥ç‡≤§‡≤ø ‚Äî ‡≤≤‡≤æ‡≤≠‡≤æ‡≤Ç‡≤∂ ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø', enter_record_id: '‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤ê‡≤°‡≤ø ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø', fetch_record: 'üîç ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø', fetched_record_details: '‡≤™‡≤°‡≥Ü‡≤¶ ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≥Å:', margin_to_add: '‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤≤‡≥Å ‡≤≤‡≤æ‡≤≠‡≤æ‡≤Ç‡≤∂ (‚Çπ ‡≤™‡≥ç‡≤∞‡≤§‡≤ø ‡≤ï‡≥Ü‡≤ú‡≤ø)', add_margin_to_chain: 'üîó ‡≤ö‡≥à‡≤®‡≥ç‚Äå‡≤ó‡≥Ü ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø', shopkeeper_dashboard_title: '‡≤Ö‡≤Ç‡≤ó‡≤°‡≤ø‡≤Ø‡≤µ ‚Äî ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø ‡≤¶‡≤æ‡≤ñ‡≤≤‡≤ø‡≤∏‡≤ø', purchase_price: '‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø ‡≤¨‡≥Ü‡≤≤‡≥Ü (‚Çπ/‡≤ï‡≥Ü‡≤ú‡≤ø)', quantity_purchased_kg: '‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤∏‡≤ø‡≤¶ ‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£ (‡≤ï‡≥Ü‡≤ú‡≤ø)', add_purchase_to_chain: 'üîó ‡≤ö‡≥à‡≤®‡≥ç‚Äå‡≤ó‡≥Ü ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø', customer_dashboard_title: '‡≤ó‡≥ç‡≤∞‡≤æ‡≤π‡≤ï ‚Äî ‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£ ‡≤µ‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤ø', view_record: 'üîç ‡≤¶‡≤æ‡≤ñ‡≤≤‡≥Ü ‡≤µ‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤ø', initial_record_details: '‡≤Ü‡≤∞‡≤Ç‡≤≠‡≤ø‡≤ï ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ó‡≤≥‡≥Å:', complete_journey: '‡≤™‡≥ç‡≤∞‡≤Ø‡≤æ‡≤£‡≤¶ ‡≤∏‡≤Æ‡≤Ø‡≤∞‡≥á‡≤ñ‡≥Ü:' }
        };

        // --- All application logic and functions ---
        const websiteSection = document.getElementById('website-section'), roleSelectionPage = document.getElementById('role-selection-page'), loginPage = document.getElementById('login-page'), mainApp = document.getElementById('main-app');
        let selectedRole = '';
        
        function speakText(text, lang = 'en-US') { if (window.speechSynthesis.speaking) window.speechSynthesis.cancel(); const utterance = new SpeechSynthesisUtterance(text); utterance.lang = lang; window.speechSynthesis.speak(utterance); }
        function speakPageContent(pageId) { const el = document.getElementById(pageId); if (el) speakText(el.innerText, localStorage.getItem('selectedLanguage') || 'en-US'); }
        function addSpeakerIcons() { document.querySelectorAll('.tts-button').forEach(btn => btn.remove()); const elements = document.querySelectorAll('h1, h2, h3, label, .feature-card p'); const lang = localStorage.getItem('selectedLanguage') || 'en-US'; elements.forEach(el => { if (!el.textContent.trim()) return; let text = el.textContent.trim().replace(/üßë‚Äçüåæ|üöö|üè™|üõí|üåø|üîó|üîç|üì•|üö™/g, ''); const btn = document.createElement('button'); btn.className = 'tts-button'; btn.innerHTML = 'üîä'; btn.onclick = (e) => { e.stopPropagation(); speakText(text, lang); }; el.appendChild(btn); }); }
        
        function changeLanguage(lang) {
            localStorage.setItem('selectedLanguage', lang);
            const dict = translations[lang];
            document.querySelectorAll('[data-translate-key]').forEach(el => {
                const key = el.getAttribute('data-translate-key');
                if (dict[key]) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.placeholder = dict[key];
                    } else {
                        el.innerHTML = dict[key];
                    }
                }
            });
            addSpeakerIcons();
        }

        function populateStaticContent() {
            document.getElementById('website-section').innerHTML = `<nav class="navbar"><a href="#" class="logo" onclick="showPage('home-page')">GREEN CHAIN</a><div class="nav-right"><div class="nav-links"><a href="#" onclick="showPage('home-page')" data-translate-key="home"></a><a href="#" onclick="showPage('about-page')" data-translate-key="about"></a><a href="#" onclick="showPage('contact-page')" data-translate-key="contact"></a></div><select id="language-selector" onchange="changeLanguage(this.value)"><option value="en-US">English</option><option value="hi-IN">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option><option value="kn-IN">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option></select><button class="cta" onclick="startApp()" data-translate-key="get_started"></button></div></nav><div id="home-page" class="page"></div><div id="about-page" class="page" style="display: none;"></div><div id="contact-page" class="page" style="display: none;"></div>`;
            document.getElementById('home-page').innerHTML = `<div class="hero"><h1 data-translate-key="home_hero_title"></h1><p data-translate-key="home_hero_subtitle"></p><button class="cta" onclick="startApp()" style="padding: 15px 30px; font-size: 1.2rem;" data-translate-key="start_tracking_now"></button></div><div class="features-section"><h2 data-translate-key="why_green_chain"></h2><div class="features-container"><div class="feature-card"><div class="icon">üîó</div><h3 data-translate-key="feature1_title"></h3><p data-translate-key="feature1_desc"></p></div><div class="feature-card"><div class="icon">‚úÖ</div><h3 data-translate-key="feature2_title"></h3><p data-translate-key="feature2_desc"></p></div><div class="feature-card"><div class="icon">ü§ù</div><h3 data-translate-key="feature3_title"></h3><p data-translate-key="feature3_desc"></p></div></div></div>`;
            document.getElementById('about-page').innerHTML = `<h2 data-translate-key="about_title"></h2><div class="content-section"><h3 data-translate-key="our_mission"></h3><p data-translate-key="mission_p"></p></div><div class="content-section"><h3 data-translate-key="the_technology"></h3><p data-translate-key="technology_p"></p></div><div class="content-section"><h3 data-translate-key="benefits_for_everyone"></h3><p data-translate-key="benefits_farmer"></p><p data-translate-key="benefits_business"></p><p data-translate-key="benefits_consumer"></p></div>`;
            document.getElementById('contact-page').innerHTML = `<h2 data-translate-key="contact_title"></h2><div class="contact-info"><p data-translate-key="contact_reach_out"></p><p><strong data-translate-key="phone"></strong>: +91 7483631905</p><p><strong data-translate-key="email"></strong>: <a href="mailto:suryaprakash.s0629@gmail.com">suryaprakash.s0629@gmail.com</a></p></div><hr style="margin: 30px 0; border: none; border-top: 1px solid var(--border-color);"><h3 data-translate-key="or_send_message"></h3><form onsubmit="event.preventDefault(); alert('Message sent (demo)!');"><label for="contact-name" data-translate-key="name"></label><input type="text" id="contact-name"><label for="contact-email" data-translate-key="email"></label><input type="email" id="contact-email"><label for="contact-message" data-translate-key="message"></label><textarea id="contact-message" rows="5"></textarea><button type="submit" class="cta" style="margin-top: 20px;" data-translate-key="send_message"></button></form>`;
            document.getElementById('role-selection-page').innerHTML = `<div class="selection-box"><h2 data-translate-key="select_your_role"></h2><div class="role-buttons"><button onclick="selectRole('farmer')" data-translate-key="farmer_role"></button><button onclick="selectRole('stakeholder')" data-translate-key="stakeholder_role"></button><button onclick="selectRole('shopkeeper')" data-translate-key="shopkeeper_role"></button><button onclick="selectRole('customer')" data-translate-key="customer_role"></button></div></div>`;
            document.getElementById('login-page').innerHTML = `<div class="selection-box login-box"><h2 id="login-title" data-translate-key="sign_in"></h2><form onsubmit="return handleLogin(event)"><input type="email" id="email" placeholder="Email" required><input type="password" id="password" placeholder="Password" required><button type="submit" class="cta" style="width: 100%; margin-top: 10px;" data-translate-key="login"></button></form></div>`;
            document.getElementById('main-app').innerHTML = `<header><h1>GREEN CHAIN DASHBOARD</h1></header><div id="agritrace-demo"><main><button class="logout-btn" onclick="logout()" data-translate-key="logout"></button><section id="farmer" class="card"></section><section id="stakeholder" class="card"></section><section id="shopkeeper" class="card"></section><section id="customer" class="card"></section></main></div>`;
        }
        
        function populateAppCards() {
            document.getElementById('farmer').innerHTML = `<h2 data-translate-key="farmer_dashboard_title"></h2><label for="farmerName" data-translate-key="farmer_name"></label><input id="farmerName" type="text"><div class="row"><div class="col"><label for="cropName" data-translate-key="crop_name"></label><input id="cropName" type="text"></div><div class="col"><label for="variety" data-translate-key="variety"></label><input id="variety" type="text"></div></div><div class="row"><div class="col"><label for="quantity" data-translate-key="quantity_kg"></label><input id="quantity" type="number" min="0" value="100"></div><div class="col"><label for="harvestDate" data-translate-key="harvest_date"></label><input id="harvestDate" type="date"></div></div><div style="margin-top: 20px;"><button class="cta" id="submitRecordBtn" data-translate-key="submit_and_generate_qr"></button></div><div id="farmerQrCodeDisplay" style="display:none; margin-top: 25px; text-align: center; border-top: 1px solid var(--border-color); padding-top: 25px;"><h3 data-translate-key="record_created_successfully"></h3><p><span data-translate-key="record_id"></span>: <strong id="farmerRecordId"></strong></p><div class="qr-wrap"><div id="farmerQrCode"></div></div><button class="cta" id="farmerDownloadQrBtn" data-translate-key="download_qr"></button></div>`;
            document.getElementById('stakeholder').innerHTML = `<h2 data-translate-key="stakeholder_dashboard_title"></h2><label for="stakeholderInput" data-translate-key="enter_record_id"></label><input id="stakeholderInput" type="text" /><div style="margin-top:15px"><button class="fetch-btn" id="stakeholderFetchBtn" data-translate-key="fetch_record"></button></div><div id="stakeholderFetched" style="display:none; margin-top:20px;"><h3 data-translate-key="fetched_record_details"></h3><div id="stakeholderRecordDetails" class="record-details"></div><div class="row" style="margin-top:20px;"><div class="col"><label for="stakeholderMargin" data-translate-key="margin_to_add"></label><input id="stakeholderMargin" type="number" value="0" /></div></div><div style="margin-top:15px"><button class="cta" id="applyStakeholderBtn" data-translate-key="add_margin_to_chain"></button></div></div>`;
            document.getElementById('shopkeeper').innerHTML = `<h2 data-translate-key="shopkeeper_dashboard_title"></h2><label for="shopkeeperInput" data-translate-key="enter_record_id"></label><input id="shopkeeperInput" type="text" /><div style="margin-top:15px"><button class="fetch-btn" id="shopkeeperFetchBtn" data-translate-key="fetch_record"></button></div><div id="shopkeeperFetched" style="display:none; margin-top:20px;"><h3 data-translate-key="fetched_record_details"></h3><div id="shopkeeperRecordDetails" class="record-details"></div><div class="row" style="margin-top:20px;"><div class="col"><label for="purchasePrice" data-translate-key="purchase_price"></label><input id="purchasePrice" type="number" value="0"></div><div class="col"><label for="purchaseQty" data-translate-key="quantity_purchased_kg"></label><input id="purchaseQty" type="number" value="0"></div></div><div style="margin-top:15px"><button class="cta" id="applyShopkeeperBtn" data-translate-key="add_purchase_to_chain"></button></div></div>`;
            document.getElementById('customer').innerHTML = `<h2 data-translate-key="customer_dashboard_title"></h2><label for="customerInput" data-translate-key="enter_record_id"></label><input id="customerInput" type="text"><div style="margin-top:15px"><button class="fetch-btn" id="customerFetchBtn" data-translate-key="view_record"></button></div><div id="customer-view" style="display: none; margin-top: 25px;"><h3 data-translate-key="initial_record_details"></h3><div id="customerRecordDetails" class="record-details"></div><h3 style="margin-top:25px;" data-translate-key="complete_journey"></h3><div id="chainList" style="border-radius:12px; background:var(--background-color); max-height:400px; overflow:auto; margin-top:15px;"></div></div>`;
        }
        
        function showPage(pageId) { document.querySelectorAll('#website-section .page').forEach(p => p.style.display = 'none'); document.getElementById(pageId).style.display = 'block'; }
        function startApp() { websiteSection.style.display = 'none'; roleSelectionPage.style.display = 'flex'; }
        function selectRole(role) { selectedRole = role.toLowerCase(); const lang = localStorage.getItem('selectedLanguage') || 'en-US'; const roleText = translations[lang][`${selectedRole}_role`]; document.getElementById('login-title').innerHTML = `${translations[lang].sign_in} as ${roleText}`; roleSelectionPage.style.display = 'none'; loginPage.style.display = 'flex'; addSpeakerIcons();}
        function handleLogin(event) { event.preventDefault(); if (document.getElementById('email').value) { loginPage.style.display = 'none'; mainApp.style.display = 'block'; showDashboardForRole(); } }
        function showDashboardForRole() { ['farmer', 'stakeholder', 'shopkeeper', 'customer'].forEach(id => document.getElementById(id).style.display = 'none'); if (selectedRole) document.getElementById(selectedRole).style.display = 'block'; }
        function logout() { mainApp.style.display = 'none'; websiteSection.style.display = 'block'; showPage('home-page'); selectedRole = ''; }
        function createEmojiBackground() { const container = document.getElementById('emoji-background'); if (!container) return; const emojis = ['üçÖ', 'ü•ï', 'üåΩ', 'ü•¨', 'üåæ', 'üçì', 'üçÜ', 'ü•¶']; for (let i = 0; i < 30; i++) { const emoji = document.createElement('span'); emoji.className = 'emoji'; emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)]; emoji.style.left = `${Math.random() * 100}vw`; emoji.style.animationDuration = `${Math.random() * 15 + 10}s`; emoji.style.animationDelay = `${Math.random() * 10}s`; container.appendChild(emoji); } }
        function uid(p = 'rec') { return `${p}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 6)}`; }
        async function sha256(str) { const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str)); return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join(''); }
        function loadDb(key) { return JSON.parse(localStorage.getItem(key) || '{}'); }
        function saveDb(key, data) { localStorage.setItem(key, JSON.stringify(data)); }
        async function pushBlock(recordId, action, data) { const chain = JSON.parse(localStorage.getItem('chain') || '[]'); const prevHash = chain.length ? chain[chain.length-1].hash : '0'.repeat(64); const block = { index: chain.length, timestamp: new Date().toISOString(), recordId, action, data, prevHash }; block.hash = await sha256(`${block.prevHash}${block.recordId}${block.action}${JSON.stringify(block.data)}${block.timestamp}`); chain.push(block); localStorage.setItem('chain', JSON.stringify(chain)); }
        function renderQR(text, elementId) { const el = document.getElementById(elementId); el.innerHTML = ''; new QRCode(el, { text, width: 200, height: 200 }); }
        function downloadQR(selector) { const canvas = document.querySelector(`${selector} canvas`); if (!canvas) return; const a = document.createElement('a'); a.href = canvas.toDataURL('image/png'); a.download = 'green-chain-qr.png'; a.click(); }
        function displayRecordDetails(record, elementId) { const container = document.getElementById(elementId); if (!record) { container.innerHTML = `<p>Record not found.</p>`; return; } container.innerHTML = `<p><strong>Record ID:</strong> ${record.id}</p><p><strong>Farmer:</strong> ${record.farmerName}</p><p><strong>Crop:</strong> ${record.cropName} (${record.variety})</p><p><strong>Quantity:</strong> ${record.quantity} kg</p><p><strong>Harvest Date:</strong> ${record.harvestDate}</p>`; }
        
        document.addEventListener('DOMContentLoaded', () => {
            populateStaticContent();
            populateAppCards();
            const savedLang = localStorage.getItem('selectedLanguage') || 'en-US';
            document.getElementById('language-selector').value = savedLang;
            changeLanguage(savedLang);
            createEmojiBackground();

            document.getElementById('submitRecordBtn').addEventListener('click', async () => { const farmerName = document.getElementById('farmerName').value.trim(); if (!farmerName) { alert('Please enter Farmer Name.'); return; } const recordId = uid('rec'); const record = { id: recordId, farmerName, cropName: document.getElementById('cropName').value.trim(), variety: document.getElementById('variety').value.trim(), quantity: document.getElementById('quantity').value, harvestDate: document.getElementById('harvestDate').value, createdAt: new Date().toISOString() }; record.hash = await sha256(JSON.stringify(record)); const recordsDb = loadDb('records'); recordsDb[recordId] = record; saveDb('records', recordsDb); await pushBlock(recordId, 'FARMER_CREATED', { farmerName: record.farmerName, crop: record.cropName, hash: record.hash }); const payload = JSON.stringify({ recordId }); document.getElementById('farmerQrCodeDisplay').style.display = 'block'; document.getElementById('farmerRecordId').textContent = recordId; renderQR(payload, 'farmerQrCode'); addSpeakerIcons(); });
            document.getElementById('stakeholderFetchBtn').addEventListener('click', () => { const recId = document.getElementById('stakeholderInput').value.trim(); const record = loadDb('records')[recId]; if (record) { displayRecordDetails(record, 'stakeholderRecordDetails'); document.getElementById('stakeholderFetched').style.display = 'block'; addSpeakerIcons();} else { alert('Record not found!'); } });
            document.getElementById('applyStakeholderBtn').addEventListener('click', async () => { const recId = document.getElementById('stakeholderInput').value.trim(); if (!loadDb('records')[recId]) return; const margin = document.getElementById('stakeholderMargin').value; await pushBlock(recId, 'STAKEHOLDER_MARGIN_ADDED', { marginPerKg: `‚Çπ${margin}` }); alert(`Margin added.`); document.getElementById('stakeholderFetched').style.display = 'none'; document.getElementById('stakeholderInput').value = ''; });
            document.getElementById('shopkeeperFetchBtn').addEventListener('click', () => { const recId = document.getElementById('shopkeeperInput').value.trim(); const record = loadDb('records')[recId]; if (record) { displayRecordDetails(record, 'shopkeeperRecordDetails'); document.getElementById('shopkeeperFetched').style.display = 'block'; addSpeakerIcons();} else { alert('Record not found!'); } });
            document.getElementById('applyShopkeeperBtn').addEventListener('click', async () => { const recId = document.getElementById('shopkeeperInput').value.trim(); if (!loadDb('records')[recId]) return; const price = document.getElementById('purchasePrice').value; const qty = document.getElementById('purchaseQty').value; await pushBlock(recId, 'SHOPKEEPER_PURCHASED', { purchasePrice: `‚Çπ${price}/kg`, quantity: `${qty} kg` }); alert(`Purchase added.`); document.getElementById('shopkeeperFetched').style.display = 'none'; document.getElementById('shopkeeperInput').value = ''; });
            document.getElementById('customerFetchBtn').addEventListener('click', () => { const recId = document.getElementById('customerInput').value.trim(); const record = loadDb('records')[recId]; if (!record) { alert('Record not found!'); return; } document.getElementById('customer-view').style.display = 'block'; displayRecordDetails(record, 'customerRecordDetails'); const chain = JSON.parse(localStorage.getItem('chain') || '[]').filter(b => b.recordId === recId); const listEl = document.getElementById('chainList'); if (chain.length === 0) { listEl.innerHTML = `<p>No history found.</p>`; return; } listEl.innerHTML = chain.map(b => `<div class="chain-entry"><p><strong>Action:</strong> ${b.action.replace(/_/g, ' ')}</p><p><strong>Timestamp:</strong> ${new Date(b.timestamp).toLocaleString()}</p><p><strong>Data:</strong></p><pre>${JSON.stringify(b.data, null, 2)}</pre></div>`).join(''); addSpeakerIcons(); });
            document.getElementById('farmerDownloadQrBtn').addEventListener('click', () => downloadQR('#farmerQrCode'));
        });
    </script>
</body>
</html>